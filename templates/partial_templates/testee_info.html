
<div class="space-y-4">
    <h2 class="text-2xl font-bold py-4 px-4 border-b-2 text-center">Personal Information</h2>
    <!-- First Name -->
    <div class="flex flex-col">
        <label for="first_name" class="text-base md:text-lg font-medium text-gray-700">First Name</label>
        <input 
        type="text" 
        id="first_name"
        name="first_name"
        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" {% match prefilled_user_info.first_name %}{% when Some with (data) %}value="{{ data }}"{% when None %}{% endmatch %}
        pattern="[A-Za-z\s\-]+" title="Only alphabetic characters, spaces, and hyphens are allowed" maxlength="50"
        required
        {% match test.metadata.is_graded %}{% when Some with (_) %}readonly{% when None %}{% endmatch %}
        >
    </div>

    <!-- Last Name -->
    <div class="flex flex-col">
        <label for="last_name" class="text-base md:text-lg font-medium text-gray-700">Last Name</label>
        <input 
        type="text" 
        id="last_name"
        name="last_name"
        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" {% match prefilled_user_info.last_name %}{% when Some with (data) %}value="{{ data }}"{% when None %}{% endmatch %}
        pattern="[A-Za-z\s\-]+" title="Only alphabetic characters, spaces, and hyphens are allowed" maxlength="50"
        required
        {% match test.metadata.is_graded %}{% when Some with (_) %}readonly{% when None %}{% endmatch %}
        >
    </div>

    <!-- Email Address -->
    <div class="flex flex-col">
        <label for="email" class="text-base md:text-lg font-medium text-gray-700">Email Address</label>
        <input 
        type="email"
        id="email"
        name="email"
        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" {% match prefilled_user_info.email %}{% when Some with (data) %}value="{{ data }}"{% when None %}{% endmatch %}
        required
        {% match test.metadata.is_graded %}{% when Some with (_) %}readonly{% when None %}{% endmatch %}
        >
    </div>
    {% if email_functionality_active %}
        <div class="flex items-center">
            <input 
                type="checkbox" 
                id="send_email_results" 
                name="send_email_results" 
                class="hidden peer" 
                checked
            >
            <label 
                for="send_email_results" 
                class="inline-flex items-center justify-center w-full h-12 p-2 text-md md:text-lg font-medium text-gray-900 bg-white border-2 border-gray-300 rounded-lg cursor-pointer peer-checked:bg-blue-600 peer-checked:text-white peer-checked:border-transparent hover:bg-gray-100 hover:shadow-sm transition duration-300">Email Test Results</label>
        </div>
    {% endif %}
</div>
